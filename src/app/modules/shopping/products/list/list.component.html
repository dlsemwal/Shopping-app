<div class="container">
  <div class="row">
    <div class="col-12 py-4">
      <h2>{{category}}</h2>

    </div>
  </div>
  <div class="row" *ngIf='products'>
    <div class="col-sm-3 py-2 px-2 item" *ngFor='let item of products'>
      <a [routerLink]="['/products', category, categoryId, 'details', item._id]">
        <img [src]="item.images[0]" [alt]="item.name" width="400" height="300">
      </a>
      <div class="desc py-2">
        <h5>{{item.name}}</h5>
        <p class="text-secondary">{{'Lorem ipsum dolor, sit amet consectetur adipisicing elit. Odit, repellat,
          perspiciatis assumenda ipsum debitis ab blanditiis in minus, nisi pariatur aspernatur a ea vero harum quod
          iste et! Vel, sunt!' | summary : 100}}</p>
        <p class="text-primary float-left">
          <del class="text-secondary">
            {{item.price | currency : 'INR'}}
          </del>
          <span class="text-primary mx-2">
            {{item.price * (1 - item.discount / 100) | currency : 'INR'}}
          </span>

        </p>

        <div class="text-center">
          <div *ngIf='item.quantity; then quantityControl else addCart'></div>
          <ng-template #quantityControl>
            <button class="btn btn-primary" (click)='updateQuantity(item, false)' [disabled]='item.quantity < 1'>
              -
            </button>
            <input type="number" class="text-center border-0" [value]='item.quantity' min="0" max="999" readonly>

            <button class="btn btn-primary" (click)='updateQuantity(item, true)'>
              +
            </button>
          </ng-template>
          <ng-template #addCart>
            <button class="btn btn-primary" (click)='addCart(item)'>
              Add to cart
            </button>
          </ng-template>
        </div>


      </div>
    </div>
  </div>
</div>

<!-- <button class="btn btn-danger" (click)='onClick()'>get Data</button> -->